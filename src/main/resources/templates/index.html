<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hotel Management</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="./common.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <style>
       
    </style>
</head>
<body>
    
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-primary navbar-light py-3">
        <div class="container">
        <i class="fa-solid fa-mountain-city"></i>
            <a class="navbar-brand fw-bold " href="/hotel">StayEase</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link " href="/hotel/about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="/hotel/contact">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="/login" th:if="${session.loggedInUser == null}">Login</a>
                        <a class="nav-link " href="/logout" th:if="${session.loggedInUser != null}">Logout</a>
                    </li>
                </ul>
                <form class="d-flex" action="/hotel/search" method="get">
                    <input class="form-control me-2" type="search" name="title" placeholder="Find a hotel..." aria-label="Search" required>
                    <button class="btn btn-dark" type="submit">Search</button>
                </form>
            </div>
        </div>        
    </nav>
    
    <div class="city-navbar">
    <div class="container">
        <div class="city-links">
            <a th:href="@{/hotel/location/Bangalore}">Bangalore</a>
            <a th:href="@{/hotel/location/Chennai}">Chennai</a>
            <a th:href="@{/hotel/location/Delhi}">Delhi</a>
            <a th:href="@{/hotel/location/Maldives}">Maldives</a>
            <a th:href="@{/hotel/location/Hyderabad}">Hyderabad</a>
            <a th:href="@{/hotel/location/Kolkata}">Kolkata</a>
            <a th:href="@{/hotel/location/Mumbai}">Mumbai</a>
            <a th:href="@{/hotel/location/Noida}">Noida</a>
            <a th:href="@{/hotel/location/Pune}">Pune</a>
            <a th:href="@{/hotel}">All Cities</a>
        </div>
    </div>
</div>

    

    <!-- Debug: Show Session Role (For Admin Only) -->
    <div class="container mt-3">
        <div th:if="${session.role != null}" class="debug-session">
            <p>Current Session Role: <span th:text="${session.role}"></span></p>
        </div>
    </div>

    <!-- Add Hotel Button (Only for Admin) -->
    <div class="container mt-4" th:if="${session.role != null and #strings.toLowerCase(session.role) == 'admin'}">
        <a href="/hotel/add" class="btn btn-success mb-3">Add Hotel</a>
    </div>

    <!-- Hotel Listings -->
    <div class="container mt-5">
        <div class="row">
            <div th:if="${#lists.isEmpty(hotels)}" class="text-center">
                <h4 class="text-muted">No hotels found. Try a different search.</h4>
            </div>
            
            <div th:each="hotel : ${hotels}" class="col-md-4 mb-4">
    <a th:href="@{/hotel/details/{id}(id=${hotel.id})}" class="text-decoration-none">
        <div class="card h-100">
            <img th:src="${hotel.imgUrl}" class="card-img-top" alt="Hotel Image">
            <div class="card-body">
                <h5 class="card-title" th:text="${hotel.name}"></h5>
                <p class="card-text" th:text="${hotel.location}"></p>
                <h6 class="text-muted">Price: â‚¹<span th:text="${hotel.price}"></span></h6>
                 <div th:if="${session.loggedInUser != null and session.loggedInUser.role == 'ADMIN'}">
                 <a th:href="@{/hotel/edit/{id}(id=${hotel.id})}" class="btn btn-edit">Edit</a>
                 <a th:href="@{/hotel/delete/{id}(id=${hotel.id})}" class="btn btn-danger" onclick="return confirm('Are you sure?')">Delete</a>
                 </div>
            </div>
            
        </div>
    </a>
</div>
            
            
        </div>
    </div>

   <div class="cmsWrapper ">
	
	<div class="fadeIn__container fadeIn__container--active">
		<div class="footerAppIcons" data-cms-id="187470" data-cms-template="cWEB-footerAppIconsText">
			<div class="oyo-row footerAppIcons__container">
				
				<div class="oyo-cell oyo-cell--4-col footerAppIcons__topLinks">
					<div class="oyo-row oyo-row--no-spacing footerAppIcons__secondryLinksContainer">
						<a href="https://www.oyorooms.com/about?oyocorporate=" target="_blank">About Us</a>
						<a href="https://www.linkedin.com/company/oyo-rooms/jobs/" target="_blank">Teams / Careers</a>
						<a href="https://www.oyorooms.com/officialoyoblog/" target="_blank">Blogs</a>
						<a href="https://www.oyorooms.com/support/home" target="_blank">Support</a>
						<a href="https://www.oyorooms.com/officialoyoblog/" target="_blank">Official Blog</a>
						<a href="https://oyorooms.com/investor-relations" target="_blank">Investor Relations</a>
						<a href="https://www.oyocircle.com/" target="_blank">Circle</a>
						<a href="https://frames.oyorooms.com/" target="_blank">Frames</a>
					</div>
				</div>
				<div class="oyo-cell oyo-cell--4-col footerAppIcons__topLinks">
					<div class="oyo-row oyo-row--no-spacing footerAppIcons__secondryLinksContainer">
						<a href="https://www.oyorooms.com/terms?oyocorporate=" target="_blank">Terms and conditions</a>
						<a href="https://www.oyorooms.com/guest-policy?oyocorporate=" target="_blank">Guest Policies</a>
						<a href="https://www.oyorooms.com/privacy-policy?oyocorporate=" target="_blank">Privacy Policy</a>
						<a href="https://www.oyorooms.com/trust-and-safety" target="_blank">Trust And Safety</a>
						<a href="https://www.oyorooms.com/cyber-security" target="_blank">Cyber Security</a>
						<a href="https://www.oyorooms.com/cyber-security-awareness" target="_blank">Cyber Security Awareness</a>
						<a href="https://www.oyorooms.com/responsible-disclosure" target="_blank">Responsible Disclosure</a>
						<a href="https://traum.com/list-rental/" target="_blank">Advertise your Homes</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="fadeIn__container fadeIn__container--active">
		<div class="footerDestinations" data-cms-id="321959" data-cms-template="cWeb-PopularDestinations">
			<div class="oyo-row footerDestinations__container">
				<div class="oyo-cell--12-col footerDestinations__heading">Hotels</div>
				<div class="oyo-cell--12-col footerDestinations__cityGrid">
					<a href="https://www.oyorooms.com/hotels-near-me" class="footerDestinations__link">
						<span>Hotels near me</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-goa/" class="footerDestinations__link">
						<span>Hotels in Goa</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-puri/" class="footerDestinations__link">
						<span>Hotels in Puri</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-mahabaleshwar/" class="footerDestinations__link">
						<span>Hotels in Mahabaleshwar</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-jaipur/" class="footerDestinations__link">
						<span>Hotels in Jaipur</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-shimla/" class="footerDestinations__link">
						<span>Hotels in Shimla</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-manali/" class="footerDestinations__link">
						<span>Hotels in Manali</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-udaipur/" class="footerDestinations__link">
						<span>Hotels in Udaipur</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-mussoorie/" class="footerDestinations__link">
						<span>Hotels in Mussoorie</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-pondicherry/" class="footerDestinations__link">
						<span>Hotels in Pondicherry</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-delhi/" class="footerDestinations__link">
						<span>Hotels in Delhi</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-mumbai/" class="footerDestinations__link">
						<span>Hotels in Mumbai</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-nainital/" class="footerDestinations__link">
						<span>Hotels in Nainital</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-lonavala/" class="footerDestinations__link">
						<span>Hotels in Lonavala</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-munnar/" class="footerDestinations__link">
						<span>Hotels in Munnar</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-bangalore/" class="footerDestinations__link">
						<span>Hotels in Bangalore</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-mysore/" class="footerDestinations__link">
						<span>Hotels in Mysore</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-darjeeling/" class="footerDestinations__link">
						<span>Hotels in Darjeeling</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-mount-abu/" class="footerDestinations__link">
						<span>Hotels in Mount Abu</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-kodaikanal/" class="footerDestinations__link">
						<span>Hotels in Kodaikanal</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-hyderabad/" class="footerDestinations__link">
						<span>Hotels in Hyderabad</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-pune/" class="footerDestinations__link">
						<span>Hotels in Pune</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-chandigarh/" class="footerDestinations__link">
						<span>Hotels in Chandigarh</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-shirdi/" class="footerDestinations__link">
						<span>Hotels in Shirdi</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-agra/" class="footerDestinations__link">
						<span>Hotels in Agra</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-gangtok/" class="footerDestinations__link">
						<span>Hotels in Gangtok</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-Coorg/" class="footerDestinations__link">
						<span>Hotels in Coorg</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-chennai/" class="footerDestinations__link">
						<span>Hotels in Chennai</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-tirupati/" class="footerDestinations__link">
						<span>Hotels in Tirupati</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-dalhousie/" class="footerDestinations__link">
						<span>Hotels in Dalhousie</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-haridwar/" class="footerDestinations__link">
						<span>Hotels in Haridwar</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-kolkata/" class="footerDestinations__link">
						<span>Hotels in Kolkata</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-ahmedabad/" class="footerDestinations__link">
						<span>Hotels in Ahmedabad</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-shillong/" class="footerDestinations__link">
						<span>Hotels in Shillong</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-rishikesh/" class="footerDestinations__link">
						<span>Hotels in Rishikesh</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-varanasi/" class="footerDestinations__link">
						<span>Hotels in Varanasi</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-gurgaon/" class="footerDestinations__link">
						<span>Hotels in Gurgaon</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-mandarmoni/" class="footerDestinations__link">
						<span>Hotels in Mandarmoni</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-daman/" class="footerDestinations__link">
						<span>Hotels in Daman</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-yercaud/" class="footerDestinations__link">
						<span>Hotels in Yercaud</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-amritsar/" class="footerDestinations__link">
						<span>Hotels in Amritsar</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-madurai/" class="footerDestinations__link">
						<span>Hotels in Madurai</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-coimbatore/" class="footerDestinations__link">
						<span>Hotels in Coimbatore</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-kasauli/" class="footerDestinations__link">
						<span>Hotels in Kasauli</span>
					</a>
					<a href="https://www.oyorooms.com/hotels-in-dehradun/" class="footerDestinations__link">
						<span>Hotels in Dehradun</span>
					</a>
					<a href="https://www.oyorooms.com/travel-guide/" class="footerDestinations__link">
						<span>Travel Guide</span>
					</a>
					<a href="https://www.oyorooms.com/allcities/" class="footerDestinations__link">
						<span>All Cities Hotels</span>
					</a>
					<a href="https://www.oyorooms.com/coupons/" class="footerDestinations__link">
						<span>Coupons</span>
					</a>
					<a href="/gb/" class="footerDestinations__link">
						<span>Hotel UK</span>
					</a>
					<a href="https://www.oyorooms.com/us/" class="footerDestinations__link">
						<span>Hotel USA</span>
					</a>
					<a href="https://www.oyorooms.com/mx/" class="footerDestinations__link">
						<span>Hotel Mexico</span>
					</a>
					<a href="https://www.oyorooms.com/br/" class="footerDestinations__link">
						<span>Hotel Brasil</span>
					</a>
					<a href=" https://tabist.co.jp/ " class="footerDestinations__link">
						<span>Hotels in Japan</span>
					</a>
					<a href="https://www.oyorooms.com/id/" class="footerDestinations__link">
						<span>Hotel Indonesia</span>
					</a>
					<a href="https://oyovacationhomes.com/our-brands" class="footerDestinations__link">
						<span>Vacation Homes in Europe</span>
					</a>
					<a href="https://www.oyorooms.com/d/dancenter" class="footerDestinations__link">
						<span>Homes in Scandinavia</span>
					</a>
					<a href="https://www.dancenter.com" class="footerDestinations__link">
						<span>Homes in Southern Europe</span>
					</a>
					<a href="https://www.oyorooms.com/d/Belvilla" class="footerDestinations__link">
						<span>Belvilla Holiday Homes</span>
					</a>
					<a href="https://www.vacation-apartments.com/" class="footerDestinations__link">
						<span>Traum Vacation Apartments</span>
					</a>
					<a href="https://www.traum-ferienwohnungen.de/" class="footerDestinations__link">
						<span>Traum Holiday Homes
</span>
					</a>
				</div>
			</div>
		</div>
	</div>
	
</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Debugging Script: Show Session Role -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let debugDiv = document.querySelector(".debug-session");
            if (debugDiv.textContent.trim() !== "") {
                debugDiv.style.display = "block"; // Show session role for debugging
            }
        });
    </script>

</body>
</html>
